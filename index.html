<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Honey Badger AR</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      body {
        margin: 0;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }

      #viewer-wrapper {
        position: relative;
        width: 100%;
        max-width: 500px;
      }

      model-viewer {
        width: 100%;
        height: 100%;
      }

      #ar-launcher {
        position: absolute;
        inset: 0;
        z-index: 2;
        cursor: pointer;
        background: transparent;
      }
    </style>
  </head>
  <body>
    <div id="viewer-wrapper">
      <!-- ✅ Live 3D preview -->
      <model-viewer
        id="play-paused"
        camera-controls
        touch-action="pan-y"
        autoplay
        ar
        ar-modes="scene-viewer webxr quick-look"
        scale="0.2 0.2 0.2"
        shadow-intensity="1"
        src="honey.glb"
        ios-src="https://developer.apple.com/augmented-reality/quick-look/models/toy_biplane/toy_biplane.usdz"
        alt="Honey Badger"
      ></model-viewer>

      <!-- ✅ Transparent button on top -->
      <a id="ar-launcher" href="#" aria-label="Launch in AR"></a>
    </div>

    <script>
      const arLink = document.getElementById('ar-launcher');

      const androidIntentURL =
        'intent://arvr.google.com/scene-viewer/1.2?' +
        'file=https://storage.googleapis.com/ar-answers-in-search-models/static/AlpineGoat/model.glb' +
        '&title=Alpine+Goat' +
        '&mode=ar_only' +
        '&sound=https://storage.googleapis.com/ar-answers-in-search-models/static/AlpineGoat/Goat_Alpine_Male_Adult.ogg' +
        '#Intent;scheme=https;package=com.google.android.googlequicksearchbox;' +
        'S.browser_fallback_url=https://arvr.google.com/scene-viewer?' +
        'file=https://storage.googleapis.com/ar-answers-in-search-models/static/AlpineGoat/model.glb' +
        '&title=Alpine+Goat' +
        '&mode=ar_only' +
        '&sound=https://storage.googleapis.com/ar-answers-in-search-models/static/AlpineGoat/Goat_Alpine_Male_Adult.ogg;end;';

      const iosUSDZLink =
        'https://developer.apple.com/augmented-reality/quick-look/models/toy_biplane/toy_biplane.usdz';

      const isIOS =
        /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

      if (isIOS) {
        arLink.setAttribute('rel', 'ar');
        arLink.setAttribute('href', iosUSDZLink);
      } else {
        arLink.setAttribute('href', androidIntentURL);
      }
    </script>
  </body>
</html>
